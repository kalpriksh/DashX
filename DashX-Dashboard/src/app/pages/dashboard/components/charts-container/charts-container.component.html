<!--drop down menu items-------------------------------- -->

<!-- todo : create this using *ngFor -->
<mat-menu #chartTypeMenu="matMenu">
  <div *ngFor="let chartTypeItem of listOfChartTypes">
    <button mat-menu-item (click) = "AddChart(chartTypeItem.name)">
      <mat-icon>{{chartTypeItem.icon}}</mat-icon>
      <span>{{chartTypeItem.name}}</span>
    </button>
  </div>
</mat-menu>

<!-- -------------------------------------------------- -->

<div class = "top-toolbar">
  <mat-toolbar class = "edit-toolbar-options" color = 'basic'>
    <div>
      <button mat-button color = "primary" [matMenuTriggerFor]="chartTypeMenu">
        Add Chart
      </button>
      <button mat-button color = "primary">
        Delete Chart
      </button>
      <button mat-button color = "primary">
        Save Chart
      </button>
      <button mat-button color = "primary">
        Reset Chart
      </button>
    </div>
  </mat-toolbar>
</div>


<div class='chart-container'>
  <!-- chart editor declared -->
  <app-chart-editor id = 'chart-editor'></app-chart-editor>
  
  <mat-grid-list cols="4" rowHeight="150px" gutterSize = "7px">
    <ng-container *ngFor="let item of _dashboard.charts; let i = index">
      <mat-grid-tile
        [rowspan] = item.position.row
        [colspan] = item.position.col
        >
        <ng-template [ngIf]="item.chartType=='bar'">
          <app-bar-graph [barGraphData] = 'item.chartData' (chartId) = "item.chartID = $event"></app-bar-graph>
        </ng-template>
        <ng-template [ngIf]="item.chartType=='pie'">
          <app-pie-chart [pieChartData] = 'item.chartData'></app-pie-chart>
        </ng-template>
        <ng-template [ngIf]="item.chartType=='kpi'">
          <app-kpi [kpiData] = 'item.chartData'></app-kpi>
        </ng-template>
        <ng-template [ngIf]="item.chartType=='line'">
          <app-line-chart [lineChartData] = 'item.chartData'></app-line-chart>
        </ng-template>
      </mat-grid-tile>
    </ng-container>
  </mat-grid-list>
</div>
